# ğŸ§ª Bitsfeed ì‹¤ì‹œê°„ í†µì‹  í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ

## ğŸ“‹ **ì‹¤í–‰ ì¤‘ì¸ ì„œë¹„ìŠ¤ ëª©ë¡**

| ì„œë¹„ìŠ¤ | í¬íŠ¸ | ìš©ë„ | í…ŒìŠ¤íŠ¸ URL |
|--------|------|------|------------|
| **Frontend** | 3000 | ë©”ì¸ ì›¹ UI | http://localhost:3000 |
| **Backend** | 8000 | ë‰´ìŠ¤ í¬ë¡¤ëŸ¬ API | http://localhost:8000 |
| **Analytics** | 8001 | ë¶„ì„ ì„œë¹„ìŠ¤ | http://localhost:8001 |
| **Consumer** | 8002 | Kafka ì»¨ìŠˆë¨¸ | http://localhost:8002 |
| **ğŸš€ .NET Sample** | 5000 | ì‹¤ì‹œê°„ í†µì‹  í…ŒìŠ¤íŠ¸ | http://localhost:5000 |
| **Datadog Agent** | 8126 | APM ìˆ˜ì§‘ | http://localhost:8126 |

## ğŸ¯ **1ë‹¨ê³„: ë©”ì¸ ì„œë¹„ìŠ¤ í…ŒìŠ¤íŠ¸**

### ğŸ“± **Frontend (Next.js)**
```bash
# ë©”ì¸ ëŒ€ì‹œë³´ë“œ ì ‘ì†
open http://localhost:3000
```

**ì£¼ìš” ê¸°ëŠ¥:**
- ğŸ” í‚¤ì›Œë“œ ë¶„ì„ â†’ Datadog ë‰´ìŠ¤ ê²€ìƒ‰
- ğŸ“Š ê°„ë‹¨ ì°¨íŠ¸ â†’ ë¶„ì„ ì‹œê°í™”
- ğŸ”§ Consumer ìƒíƒœ â†’ Kafka ì²˜ë¦¬ ìƒíƒœ
- ğŸš€ .NET Health â†’ dotnet-sample ìƒíƒœ
- ğŸ‘¥ .NET Users â†’ ì‚¬ìš©ì ê´€ë¦¬

### ğŸ”§ **Backend Services API í…ŒìŠ¤íŠ¸**
```bash
# ë°±ì—”ë“œ ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
curl http://localhost:8000

# ë¶„ì„ ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸  
curl http://localhost:8001

# Consumer ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
curl http://localhost:8002
```

## ğŸ”„ **2ë‹¨ê³„: ì‹¤ì‹œê°„ í†µì‹  íŒ¨í„´ í…ŒìŠ¤íŠ¸**

### ğŸ§ª **ì‹¤ì‹œê°„ í…ŒìŠ¤íŠ¸ UI ì ‘ì†**
```bash
# í†µí•© í…ŒìŠ¤íŠ¸ í˜ì´ì§€ ì˜¤í”ˆ
open http://localhost:5000/realtime-test.html
```

**4ê°€ì§€ ì‹¤ì‹œê°„ íŒ¨í„´ í…ŒìŠ¤íŠ¸:**

#### ğŸ“± **1. SignalR Hub (/hub)**
- **ëª©ì **: GET /hub íŒ¨í„´ ì¬í˜„
- **í…ŒìŠ¤íŠ¸**: 
  1. "Connect to Hub" í´ë¦­
  2. "Send Heartbeat" í´ë¦­
  3. ì‹¤ì‹œê°„ ë©”ì‹œì§€ í™•ì¸

#### â³ **2. Long Polling**
- **ëª©ì **: 5ë¶„+ ëŒ€ê¸° ì‹œê°„ ì¬í˜„
- **í…ŒìŠ¤íŠ¸**:
  1. Timeoutì„ 300ì´ˆ(5ë¶„)ë¡œ ì„¤ì •
  2. "Start Long Polling" í´ë¦­
  3. ë³„ë„ íƒ­ì—ì„œ ë©”ì‹œì§€ ì „ì†¡

#### ğŸ“¡ **3. Server-Sent Events (SSE)**
- **ëª©ì **: ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ íŒ¨í„´
- **í…ŒìŠ¤íŠ¸**:
  1. Durationì„ 60ì´ˆë¡œ ì„¤ì •
  2. "Start SSE Stream" í´ë¦­
  3. ì‹¤ì‹œê°„ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ í™•ì¸

#### ğŸ”„ **4. Hub Simulation**
- **ëª©ì **: ì •í™•íˆ 5ë¶„ 37ì´ˆ(337ì´ˆ) ì¬í˜„
- **í…ŒìŠ¤íŠ¸**:
  1. Delayë¥¼ 337ì´ˆë¡œ ì„¤ì •
  2. "Simulate /hub Delay" í´ë¦­
  3. APMì—ì„œ ë™ì¼í•œ íŒ¨í„´ í™•ì¸

### ğŸŒ **API ì§ì ‘ í…ŒìŠ¤íŠ¸**
```bash
# Quick API (ê¸°ì¤€ì )
curl http://localhost:5000/api/realtime/quick

# Long Polling (30ì´ˆ ëŒ€ê¸°)
curl "http://localhost:5000/api/realtime/long-polling?timeoutSeconds=30"

# Hub Simulation (60ì´ˆ ì§€ì—°)  
curl "http://localhost:5000/api/realtime/hub?delaySeconds=60"

# SSE Stream (30ì´ˆ)
curl "http://localhost:5000/api/realtime/sse?durationSeconds=30"
```

## ğŸ“Š **3ë‹¨ê³„: Datadog APM ëª¨ë‹ˆí„°ë§**

### ğŸ” **APM íŠ¸ë ˆì´ìŠ¤ í™•ì¸**
1. **Datadog APM ì ‘ì†** (ì‹¤ì œ í™˜ê²½ì—ì„œ)
2. **ì„œë¹„ìŠ¤ë³„ íŠ¸ë ˆì´ìŠ¤ ë¶„ì„**:
   - `dotnet-sample` ì„œë¹„ìŠ¤ ì„ íƒ
   - ì‹¤í–‰ ì‹œê°„ë³„ íŠ¸ë ˆì´ìŠ¤ ì •ë ¬
   - `/hub`, `/api/realtime/*` ì—”ë“œí¬ì¸íŠ¸ ë¹„êµ

### ğŸ“ˆ **ì˜ˆìƒ APM ê²°ê³¼**

| íŒ¨í„´ | ì˜ˆìƒ ì‹¤í–‰ì‹œê°„ | íŠ¹ì§• |
|------|---------------|------|
| **Quick API** | < 100ms | ì¼ë°˜ì ì¸ HTTP ì‘ë‹µ |
| **SignalR Hub** | ì—°ê²° ì§€ì† | WebSocket ì—…ê·¸ë ˆì´ë“œ |
| **Long Polling** | 5ë¶„+ | ì´ë²¤íŠ¸ ëŒ€ê¸° íŒ¨í„´ |
| **SSE** | ì„¤ì •ëœ ì‹œê°„ | ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ |
| **Hub Simulation** | ì •í™•íˆ 337ì´ˆ | **GET /hub íŒ¨í„´ ì¬í˜„** |

## ğŸ¯ **4ë‹¨ê³„: ì„±ëŠ¥ ë¹„êµ ë¶„ì„**

### ğŸ“‹ **í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤**
1. **ë™ì‹œì— 4ê°€ì§€ íŒ¨í„´ ì‹¤í–‰**
2. **ê° íŒ¨í„´ì˜ CPU/ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥  í™•ì¸**
3. **ë„¤íŠ¸ì›Œí¬ ì—°ê²° ìƒíƒœ ëª¨ë‹ˆí„°ë§**
4. **APMì—ì„œ íŠ¸ë ˆì´ìŠ¤ íŒ¨í„´ ë¹„êµ**

### ğŸ” **ì£¼ìš” í™•ì¸ í¬ì¸íŠ¸**
- âœ… SignalR Hubì˜ WebSocket ì—°ê²° í˜‘ìƒ
- âœ… Long Pollingì˜ ëŒ€ê¸° ì‹œê°„ íŒ¨í„´
- âœ… SSEì˜ ìŠ¤íŠ¸ë¦¬ë° íŠ¹ì„±
- âœ… Hub Simulationì˜ ì •í™•í•œ ì§€ì—° ì¬í˜„

## ğŸ† **ìµœì¢… ê²€ì¦ ëª©í‘œ**

**GET /hubê°€ 5ë¶„ 37ì´ˆ ê±¸ë¦¬ëŠ” ì´ìœ **ë¥¼ ì™„ì „íˆ ì´í•´í•˜ê¸° ìœ„í•´:

1. **SignalR Hub ì—°ê²° íŒ¨í„´** í™•ì¸
2. **í´ë¼ì´ì–¸íŠ¸ ì—°ê²° ìœ ì§€ ì‹œê°„** ì¸¡ì •  
3. **WebSocket í”„ë¡œí† ì½œ ì „í™˜** ëª¨ë‹ˆí„°ë§
4. **ì‹¤ì œ ì„œë²„ ì²˜ë¦¬ ì‹œê°„ vs ì—°ê²° ìœ ì§€ ì‹œê°„** êµ¬ë¶„

## ğŸš€ **ì¶”ê°€ í…ŒìŠ¤íŠ¸ ì˜µì…˜**

### ğŸ”§ **ê°œë°œì ë„êµ¬ í™œìš©**
```bash
# WebSocket ì—°ê²° ëª¨ë‹ˆí„°ë§
# Chrome DevTools â†’ Network â†’ WS íƒ­

# SignalR ì—°ê²° ìƒíƒœ í™•ì¸
# ì½˜ì†”ì—ì„œ connection.state í™•ì¸
```

### ğŸ“Š **ë¶€í•˜ í…ŒìŠ¤íŠ¸**
```bash
# ë™ì‹œ ì ‘ì† í…ŒìŠ¤íŠ¸ (ë³„ë„ ì‹¤í–‰)
for i in {1..5}; do
  curl "http://localhost:5000/api/realtime/long-polling?timeoutSeconds=60" &
done
```

---

ğŸ‰ **ì´ì œ ì™„ë²½í•œ ì‹¤ì‹œê°„ í†µì‹  ë¶„ì„ í™˜ê²½ì´ ì¤€ë¹„ë˜ì—ˆìŠµë‹ˆë‹¤!**

ê° íŒ¨í„´ì„ í…ŒìŠ¤íŠ¸í•˜ë©´ì„œ GET /hubì˜ ì •ì²´ë¥¼ ëª…í™•íˆ íŒŒì•…í•´ë³´ì„¸ìš”.